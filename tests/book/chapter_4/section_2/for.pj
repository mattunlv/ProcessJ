/**
 * ProcessJ Book code
 * Chapter 4
 * Section 2
 * Page 102
 */

import std.io;

public void foo(int number) {

    println("Greetings from foo, " + number + "!");

}

public void main(string[] args) {

    for(int i=0; i<10; i++) {
        println(i);
    }

    chan<int> c;

    int i, x, y;

    y = 5;
    i = 0;

    par {
    
        c.write(6);

        for(x=0, foo(7), c.read(), y--; i<10; i++) {
            println(i);
        }

    }

}
