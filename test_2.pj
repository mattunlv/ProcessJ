import std.*;


void foo(chan<int>.read in) {

     int x;

     x = in.read();

     println("Received: " + x);

}

void main(string args[]) {
     int n = 10;
     int s = 5;
     chan<int>[][]  channels  = new chan<int>[n][s];

     for(int i=0; i<n; i++) {
          par for(int j = 0; j < s; j++) {

               channels[i][j].write(i);
               foo(channels[i][j].read);

          }

     }

}
