import std.*;


void foo(chan<int>.read in) {

     int x;

     x = in.read();

     println("Received: " + x);

}

void main(string args[]) {
     int n = 10;
     chan<int>[]  channels  = new chan<int>[n];

     par for(int i=0; i<n; i++) {
     	 channels[i].write(i);

           foo(channels[i].read);

     }



}
